package com.valtech.training.spring.test;
 
import static org.junit.jupiter.api.Assertions.*;
 
import org.aspectj.apache.bcel.util.ClassPath;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;
 
import com.valtech.training.spring.HelloWorld;
 
class IOCTest {
	ApplicationContext appCtx;
 
	
	@BeforeEach
	void initialize() {
		appCtx =  new ClassPathXmlApplicationContext("ioc.xml");
		
	}
	
	void testPointSetterInjection() {
		System.out.println(appCtx.getBean("p2"));
	}
 
	@Test
	void test() {
		HelloWorld hw = (HelloWorld) appCtx.getBean("hw");
		assertEquals("Hello World", hw.hello("World"));
		assertEquals(appCtx.getBean("hw"), appCtx.getBean("abc"));
	}
	
	@Test
	void testPoint() {
		System.out.println(appCtx.getBean("p1"));
		assertNotEquals(appCtx.getBean("p1"),appCtx.getBean("p1"));
	}
 
}